<nav class="navbar navbar-expand-lg  navbar-light sticky-top px-4 px-lg-5" style="background-color: #D9D9DB;">
    <img class="img-fluid me-3" src="../../../assets/img/logo.png" width="50px" height="50px" alt="" />
    <a class="navbar-brand d-flex align-items-center">


        <h4 class="m-0">
            AnimalsCouple
        </h4>
    </a>

    <a class="nav-item nav-link mx-3" (click)="routerChatUser()"><i class="pi pi-comments" style="font-size: 25px;"
            *ngIf="id_usuarioAccount != null"></i></a>

    <div *ngIf="isUserNormal == true" class="header-profile mx-auto rounded pe-4 py-3 py-lg-0">
        <div class="notification">
            <div class="btn_reaccion" (click)="listarsolicitudes('Pendiente', 1)">
                <div class="reacciones">
                    <div class="reaccion">
                        <main>
                            <header>
                                <div class="icon">
                                    <div class="lines">
                                        <div class="top line"></div>
                                        <div class="bottom line"></div>
                                    </div>
                                    <div class="circle"></div>
                                </div>
                                <h2>SOLICITUDES</h2>
                                <button routerLink="solicitud" pButton pRipple type="button" icon="pi pi-filter"
                                    class="p-button-rounded p-button-text p-button-plain"></button>
                            </header>
                            <div class="content">
                                <div class="line"></div>
                                <div #messagesContainer
                                    style="width:100%; overflow:auto; max-height:420px; min-height:420px;">
                                    <div class="box" *ngFor="let s of solicitudes">
                                        <div class="circle"></div>
                                        <div class="info">
                                            <!-- <time>{{s.fecha | date: 'dd/MM/yyyy'}} - {{s.fecha |date:'shortTime'
                                                }}</time>
                                            <img [src]="s.persona.foto ? 'data:image/jpeg;base64,' +s.persona.foto : '../../../../assets/img/fotonull.png'"
                                                alt="img-avatar" height="55px"
                                                style="border: 30px; border-color: black;">
                                            <p><Strong>{{s.persona.nombres}}</Strong>: {{s.comentario}} </p>
                                            <h6 style="font-size: smaller;">Quiero Alquilar a: {{s.animal.nombre}}</h6>
                                            <h6 style="font-size: smaller;">A cambio de: {{s.tipopago}}</h6>
                                            <div style="display: flex; justify-content: flex-end;">
                                                <button pButton pRipple type="button" icon="pi pi-user"
                                                    class="p-button-rounded p-button-info p-button-text"
                                                    (click)="redirectToProfileUser(s.persona.id_persona)"></button>
                                                <button (click)="updateSolicitudperId(s.id_solicitud, s, 1, s.animal)"
                                                    pButton pRipple type="button" icon="pi pi-check"
                                                    class="p-button-rounded p-button-sm p-button-text"
                                                    (click)="procedureCrearChat(s.persona.id_persona)"></button>
                                                <button (click)="updateSolicitudperId(s.id_solicitud, s, 2, null)"
                                                    pButton pRipple type="button" icon="pi pi-times"
                                                    class="p-button-rounded p-button-sm p-button-danger p-button-text"></button>
                                            </div> -->

                                            <!-- Segundo diseño de la notificasión -->
                                            <time>{{s.fecha | date: 'dd/MM/yyyy'}} - {{s.fecha | date:'shortTime'
                                                }}</time>
                                            <!-- <div class="notification">
                           

                                                <img [src]="s.persona.foto ? 'data:image/jpeg;base64,' + s.persona.foto : '../../../../assets/img/fotonull.png'"
                                                    alt="img-avatar" class="notification-image">
                                                <div class="notification-content">
                                                    <p><strong>{{s.persona.nombres}}</strong>: {{s.comentario}}</p>
                                                    <h6 class="notification-subtitle">Quiero Alquilar a:
                                                        {{s.animal.nombre}}</h6>
                                                    <h6 class="notification-subtitle">A cambio de: {{s.tipopago}}</h6>

                                                </div>
                                                <div >
                                                    <button pButton pRipple type="button" icon="pi pi-user"
                                                        class="p-button-rounded p-button-info p-button-text"
                                                        (click)="redirectToProfileUser(s.persona.id_persona)"></button>
                                                    <button (click)="updateSolicitudperId(s.id_solicitud, s, 1, s.animal)"
                                                        pButton pRipple type="button" icon="pi pi-check"
                                                        class="p-button-rounded p-button-sm p-button-text"
                                                        (click)="procedureCrearChat(s.persona.id_persona)"></button>
                                                    <button (click)="updateSolicitudperId(s.id_solicitud, s, 2, null)"
                                                        pButton pRipple type="button" icon="pi pi-times"
                                                        class="p-button-rounded p-button-sm p-button-danger p-button-text"></button>
                                                </div> 
                                                
                                            </div> -->

                                            <!-- Fin del diseño de la segunda notificasoine -->

                                            <!-- Tercer modelo de notificasion -->
                                            <div class="notificationa">
                                                <img [src]="s.persona.foto ? 'data:image/jpeg;base64,' + s.persona.foto : '../../../../assets/img/fotonull.png'" alt="img-avatar" class="notification-image">
                                                <div class="notification-content">
                                                  <p><strong>{{s.persona.nombres}}</strong>: {{s.comentario}}</p>
                                                  <h6 class="notification-subtitle">Quiero Alquilar a: {{s.animal.nombre}}</h6>
                                                  <h6 class="notification-subtitle">A cambio de: {{s.tipopago}}</h6>
                                                </div>
                                                <div class="notification-buttons">
                                                  <button pButton pRipple type="button" icon="pi pi-user" class="p-button-rounded p-button-info p-button-text" (click)="redirectToProfileUser(s.persona.id_persona)"></button>
                                                  <button (click)="updateSolicitudperId(s.id_solicitud, s, 1, s.animal)" pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded p-button-sm p-button-text" (click)="procedureCrearChat(s.persona.id_persona)"></button>
                                                  <button (click)="updateSolicitudperId(s.id_solicitud, s, 2, null)" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-sm p-button-danger p-button-text"></button>
                                                </div>
                                              </div>
                                              

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                </div>
                <span class="notification-number">{{numsolicitudes}}</span>
                <a class="nav-item nav-link"><i class="pi pi-bell" style="font-size: 25px;"></i></a>
            </div>
        </div>
    </div>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav mx-auto rounded pe-4 py-3 py-lg-0" style="background-color: #D9D9DB;">
            <a class="nav-item nav-link active" routerLink="home" style="font-size: 20px;">Home</a>
            <a class="nav-item nav-link active" routerLink="login" *ngIf="id_usuarioAccount == null"
                style="font-size: 20px;">Login</a>

        </div>
    </div>
    <div *ngIf="id_usuarioAccount != null" class="btn btn-primary me-3" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
        <label class="toggle-btn">☰</label>

    </div>
</nav>

<div class="offcanvas offcanvas-end " tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">

    <div class="offcanvas-header">
        <h1 class="m-0">
            AnimalsCouple
        </h1>

    </div>
    <header id="header">
        <div class="d-flex flex-column">
            <div class="profile">
                <img [src]="'data:image/jpeg;base64,' + dataUser?.persona?.foto" alt=""
                    class="img-fluid rounded-circle">
                <h1 class="text-light"><a style="color: black;">{{dataUser.usuario}}</a></h1>
            </div>
        </div>
    </header>
    <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">

            <li class="nav-item">
                <a class="nav-link active" aria-current="page" routerLink="home"> <i
                        class="pi pi-home"></i><Span></Span> Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" *ngIf="isUserNormal == true" routerLink="usuario/perfil"><i
                        class="pi pi-id-card"></i><Span></Span> Perfil</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" *ngIf="isUserNormal == true" routerLink="catalogo/animales"> <i
                        class="pi pi-table"></i><Span></Span> Catálogo</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" *ngIf="isUserNormal == true" routerLink="solicitud"> <i
                        class="pi pi-inbox"></i><Span></Span> Solicitudes</a>
            </li>


            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false" *ngIf="isUserAdmin == true"><i class="pi pi-user-edit"></i><Span></Span>
                    Gestión de Usuarios
                </a>
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false" *ngIf="isUserNormal == true"><i class="pi pi-folder"></i><Span></Span>
                    Gestionar mis Animales
                </a>
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" *ngIf="isUserNormal == true" routerLink="register-animal"><i
                                class="pi pi-folder"></i><Span></Span>
                            Registro Animales</a></li>
                    <li><a class="dropdown-item" *ngIf="isUserNormal == true"
                            routerLink="sistemAnimalscouple/galerys/animal"><i class="pi pi-images"></i><Span></Span>
                            Galeria</a></li>
                    <li><a class="dropdown-item" *ngIf="isUserAdmin == true" routerLink="list/users"><i
                                class="pi pi-users"></i><Span></Span>
                            Listas de usuarios</a></li>
                    <li><a class="dropdown-item" *ngIf="isUserAdmin == true" routerLink="admin/list/users/activate"><i
                                class="pi pi-id-card"></i><Span></Span> Cuentas</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown" *ngIf="isUserAdmin == true">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false" *ngIf="isUserAdmin == true"><i class="pi pi-folder-open"></i><Span></Span>
                    Gestión de Animales
                </a>
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" *ngIf="isUserAdmin == true" routerLink="register-raza-animal"><i
                                class="pi pi-folder"></i><Span></Span> Razas de animales</a></li>
                    <li><a class="dropdown-item" *ngIf="isUserAdmin == true" routerLink="register-tipo-animal"><i
                                class="pi pi-folder"></i><Span></Span> Tipos de animales</a></li>
                </ul>
            </li>

        </ul>
        <div class="boton-cerrar-sesion">
            <a class="btn px-3 d-none d-lg-block" routerLink="login" (click)="signOut()">Cerrar Sesión .<i
                    class="pi pi-sign-out"></i></a>
        </div>
    </div>

</div>